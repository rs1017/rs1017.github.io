---
layout: post
title: "코드 기반 이미지 데이터 생성 스킬"
date: 2026-01-21 09:00:00 +0900
categories: [Skill]
tags:
  - 이미지-생성
  - 데이터-시각화
  - 코드-자동화
  - 파일-처리
skill_path: /skills/코드-기반-이미지-데이터-생성-스킬/
difficulty: intermediate
generated_by: claude-sonnet-4
image:
  path: /assets/img/posts/2026-01-21-코드-기반-이미지-데이터-생성-스킬/thumbnail.jpg
  alt: 코드 기반 이미지 데이터 생성 스킬 썸네일
---

```markdown
---
layout: post
title: "코드로 데이터를 그림으로! 이미지 자동 생성 스킬 완벽 가이드"
date: 2026-01-21 09:00:00 +0900
categories: [AI, Tech]
tags: [이미지-생성, 데이터-시각화, 코드-자동화, 파일-처리, Claude, Python]
image:
  path: /assets/img/posts/2026-01-21-코드-기반-이미지-데이터-생성-스킬/header.png
  alt: 코드 기반 이미지 데이터 생성 스킬
description: 데이터를 코드로 시각화하여 차트, 그래프, 다이어그램을 자동 생성하는 실전 스킬을 알아봅니다.
---

## 들어가며

"이 데이터를 보고서용 차트로 만들어주세요"라는 요청, 개발자라면 한 번쯤 받아보셨을 겁니다. 엑셀로 일일이 차트를 만들거나, 파이썬 시각화 라이브러리 문법을 찾아가며 코드를 짜는 과정은 생각보다 시간이 오래 걸리죠.

이번에 소개할 **코드 기반 이미지 데이터 생성 스킬**은 이런 반복 작업을 Claude의 코드 생성 능력으로 자동화합니다. 데이터만 입력하면 필요한 시각화 코드를 생성하고 실행해서 이미지 파일까지 한 번에 만들어주는 똑똑한 스킬입니다.

[IMAGE_DESC: 데이터 테이블에서 다양한 차트(막대, 선, 파이)로 변환되는 플로우를 보여주는 다이어그램. 왼쪽에는 숫자가 나열된 데이터, 오른쪽에는 여러 형태의 컬러풀한 차트들이 배치된 이미지]

## 이 스킬이 해결하는 문제

### 1. 시각화 코드 작성의 반복성

매번 matplotlib이나 plotly 문법을 찾아보며 차트를 그리는 건 비효율적입니다. 이 스킬은 원하는 시각화 유형만 지정하면 Claude가 최적의 코드를 생성해줍니다.

### 2. 스타일 통일의 어려움

보고서나 문서에 일관된 스타일의 차트를 넣으려면 설정값을 매번 복사 붙여넣기 해야 했습니다. 이제 `color_scheme`, `style` 파라미터로 한 번에 통일된 테마를 적용할 수 있습니다.

### 3. 다양한 포맷 출력

PNG, SVG, PDF 등 용도에 맞는 포맷으로 자동 변환해줍니다. 웹용은 PNG, 인쇄용은 PDF로 한 번에 생성 가능합니다.

## 스킬 구조 살펴보기

이 스킬의 핵심은 `DataVisualizer` 클래스입니다. 전체 구조를 먼저 이해해볼까요?

```python
from pathlib import Path
import anthropic

class DataVisualizer:
    def __init__(self, api_key=None):
        self.api_key = api_key or os.environ.get("ANTHROPIC_API_KEY")
        self.client = anthropic.Anthropic(api_key=self.api_key)
    
    def generate_visualization(
        self,
        data_source: str,
        visualization_type: str,
        output_path: str,
        **kwargs
    ):
        # 1. 데이터 파싱
        # 2. Claude에게 시각화 코드 생성 요청
        # 3. 생성된 코드 실행
        # 4. 이미지 파일 저장
        pass
```

전체 프로세스는 4단계로 진행됩니다:
1. **데이터 입력** → CSV, JSON, 파일 경로 등 다양한 형태 지원
2. **코드 생성** → Claude가 데이터와 요구사항에 맞는 시각화 코드 작성
3. **코드 실행** → 안전한 샌드박스 환경에서 실행
4. **파일 저장** → 지정된 경로에 이미지 저장

[IMAGE_DESC: 4단계 파이프라인을 보여주는 플로우차트. 각 단계가 화살표로 연결되어 있고, 각 단계마다 아이콘(데이터 아이콘, Claude 로고, 코드 실행 아이콘, 파일 저장 아이콘)이 표시된 이미지]

## 실전 예제: CSV 데이터를 막대 그래프로

가장 많이 사용하는 케이스부터 시작해봅시다. 월별 매출 데이터를 막대 그래프로 만드는 예제입니다.

```python
import os
from data_visualizer import DataVisualizer

# 월별 매출 데이터 (CSV 형식)
sales_data = """
Month,Sales,Target
January,45000,50000
February,52000,50000
March,48000,50000
April,61000,55000
May,58000,55000
June,65000,60000
"""

# DataVisualizer 초기화
visualizer = DataVisualizer(api_key=os.environ.get("ANTHROPIC_API_KEY"))

# 막대 그래프 생성
visualizer.generate_visualization(
    data_source=sales_data,
    visualization_type="bar_chart",
    output_path="monthly_sales.png",
    title="2026년 상반기 월별 매출 현황",
    x_label="월",
    y_label="매출액 (원)",
    color_scheme="professional",
    style="professional",
    width=1400,
    height=900,
    dpi=150
)

print("✅ 차트가 생성되었습니다: monthly_sales.png")
```

이 코드를 실행하면 Claude가 내부적으로 이런 작업을 수행합니다:

1. CSV 데이터를 파싱해서 구조 분석
2. matplotlib 기반 막대 그래프 코드 생성
3. "professional" 스타일에 맞는 색상과 폰트 적용
4. 고해상도(150 DPI) PNG 파일로 저장

## 다양한 시각화 유형 활용하기

### 선 그래프로 트렌드 분석

```python
# 시간대별 트래픽 데이터
traffic_data = """
Hour,Visitors,PageViews
00:00,120,340
02:00,85,230
04:00,65,180
06:00,150,420
08:00,450,1200
10:00,680,1850
12:00,820,2200
14:00,750,2050
16:00,680,1900
18:00,920,2500
20:00,850,2300
22:00,420,1150
"""

visualizer.generate_visualization(
    data_source=traffic_data,
    visualization_type="line_chart",
    output_path="hourly_traffic.png",
    title="시간대별 웹사이트 트래픽",
    x_label="시간",
    y_label="방문자 수",
    color_scheme="vibrant",
    annotations=[
        {"type": "peak", "x": "18:00", "text": "피크 타임"}
    ]
)
```

### 파이 차트로 비율 표현

```python
# 카테고리별 지출 내역
expense_data = {
    "식비": 450000,
    "주거비": 800000,
    "교통비": 150000,
    "문화생활": 200000,
    "저축": 400000
}

visualizer.generate_visualization(
    data_source=json.dumps(expense_data),
    visualization_type="pie_chart",
    output_path="expense_breakdown.png",
    title="월간 지출 내역",
    color_scheme="pastel",
    style="minimal"
)
```

[IMAGE_DESC: 세 가지 차트 유형을 나란히 보여주는 비교 이미지. 왼쪽부터 막대 그래프(파란색 계열), 선 그래프(빨간색 상승 곡선), 파이 차트(파스텔 톤 색상)가 배치된 이미지]

## 고급 기능: 다이어그램 생성

단순 차트를 넘어 플로우차트나 시퀀스 다이어그램도 생성할 수 있습니다.

```python
# 프로세스 플로우 정의
process_flow = {
    "nodes": [
        {"id": "start", "label": "시작", "type": "start"},
        {"id": "input", "label": "데이터 입력", "type": "process"},
        {"id": "validate", "label": "유효성 검증", "type": "decision"},
        {"id": "process", "label": "데이터 처리", "type": "process"},
        {"id": "output", "label": "결과 출력", "type": "process"},
        {"id": "end", "label": "종료", "type": "end"}
    ],
    "edges": [
        {"from": "start", "to": "input"},
        {"from": "input", "to": "validate"},
        {"from": "validate", "to": "process", "label": "통과"},
        {"from": "validate", "to": "input", "label": "실패"},
        {"from": "process", "to": "output"},
        {"from": "output", "to": "end"}
    ]
}

visualizer.generate_visualization(
    data_source=json.dumps(process_flow),
    visualization_type="flowchart",
    output_path="data_processing_flow.svg",
    title="데이터 처리 프로세스",
    format="svg",  # 벡터 형식으로 저장
    style="professional"
)
```

SVG 포맷으로 저장하면 확대해도 깨지지 않는 고품질 다이어그램을 얻을 수 있습니다.

## 스타일 커스터마이징

### 색상 테마 비교

스킬에서 제공하는 4가지 색상 테마:

- **default**: matplotlib 기본 색상 (과학적, 중립적)
- **pastel**: 부드러운 파스텔 톤 (프레젠테이션용)
- **vibrant**: 선명한 대비 색상 (눈에 띄는 인포그래픽)
- **monochrome**: 단색 계열 (학술 논문, 인쇄물)

```python
# 같은 데이터를 다른 테마로 생성
themes = ["default", "pastel", "vibrant", "monochrome"]

for theme in themes:
    visualizer.generate_visualization(
        data_source=sales_data,
        visualization_type="bar_chart",
        output_path=f"sales_{theme}.png",
        title=f"매출 차트 - {theme} 테마",
        color_scheme=theme
    )
```

### 스타일 프리셋

- **minimal**: 불필요한 요소 제거, 깔끔한 디자인
- **professional**: 비즈니스 보고서용, 그리드 라인 포함
- **academic**: 학술 논문용, 세리프 폰트, 상세한 라벨

## 실무 활용 팁

### 1. 배치 생성으로 시간 절약

```python
# 여러 차트를 한 번에 생성
chart_configs = [
    {
        "data": sales_data,
        "type": "bar_chart",
        "output": "sales_bar.png",
        "title": "월별 매출"
    },
    {
        "data": sales_data,
        "type": "line_chart",
        "output": "sales_trend.png",
        "title": "매출 추세"
    },
    {
        "data": sales_data,
        "type": "scatter_plot",
        "output": "sales_scatter.png",
        "title": "매출 vs 목표"
    }
]

for config in chart_configs:
    visualizer.generate_visualization(
        data_source=config["data"],
        visualization_type=config["type"],
        output_path=config["output"],
        title=config["title"],
        color_scheme="professional"
    )
```

### 2. 파일 경로로 대용량 데이터 처리

```python
# CSV 파일 직접 읽기
visualizer.generate_visualization(
    data_source="./data/yearly_sales.csv",
    visualization_type="line_chart",
    output_path="yearly_trend.pdf",
    format="pdf",  # 인쇄용 PDF
    dpi=300,       # 고해상도
    width=2000,
    height=1200
)
```

### 3. 주석으로 인사이트 강조

```python
visualizer.generate_visualization(
    data_source=traffic_data,
    visualization_type="line_chart",
    output_path="traffic_analysis.png",
    annotations=[
        {
            "type": "arrow",
            "x": "08:00",
            "y": 450,
            "text": "출근 시간 트래픽 상승",
            "arrow_style": "->"
        },
        {
            "type": "box",
            "x": "18:00",
            "y": 920,
            "text": "일일 최고치",
            "box_color": "red"
        }
    ]
)
```

## 문제 해결 가이드

### API 키 오류

```python
# 환경변수 확인
import os
print(os.environ.get("ANTHROPIC_API_KEY"))

# 또는 직접 전달
visualizer = DataVisualizer(api_key="your-api-key-here")
```

### 한글 폰트 깨짐

기본적으로 matplotlib은 한글을 지원하지 않을 수 있습니다. 스킬이 자동으로 처리하지만, 수동 설정이 필요하면:

```python
import matplotlib.pyplot as plt
import platform

if platform.system() == 'Windows':
    plt.rc('font', family='Malgun Gothic')
elif platform.system() == 'Darwin':  # macOS
    plt.rc('font', family='AppleGothic')
else:  # Linux
    plt.rc('font', family='NanumGothic')
```

### 데이터 형식 오류

Claude가 데이터를 파싱하지 못하면 명시적으로 형식을 지정하세요:

```python
# JSON 형식 명시
visualizer.generate_visualization(
    data_source='{"labels": ["A", "B", "C"], "values": [10, 20, 30]}',
    visualization_type="bar_chart",
    output_path="chart.png"
)
```

## 더 알아보기

이 스킬의 전체 코드와 상세 문서는 [스킬 레지스트리](/skills/코드-기반-이미지-데이터-생성-스킬/)에서 확인할 수 있습니다. 

### 다음 단계

- **자동화**: GitHub Actions와 연동해서 정기적으로 리포트 생성
- **대시보드**: 여러 차트를 하나의 HTML 대시보드로 조합
- **실시간 업데이트**: API 데이터를 주기적으로 가져와 차트 갱신

## 마치며

데이터 시각화는 인사이트를 전달하는 강력한 도구입니다. 하지만 매번 차트를 손수 만드는 건 개발자의 시간을 낭비하는 일이죠. 

이 스킬을 사용하면 "이 데이터를 막대 그래프로 만들어줘"라는 한 줄의 코드로 전문적인 차트를 얻을 수 있습니다. Claude가 데이터 구조를 분석하고, 최적의 시각화 방법을 선택하고, 스타일까지 적용해주니까요.

다음 보고서를 준비할 때, 엑셀 대신 이 스킬을 한번 써보세요. 여러분의 시간은 더 중요한 분석과 의사결정에 쓰이게 될 겁니다. 🚀

---

*이 포스트는 AI Skill Factory의 코드 기반 이미지 데이터 생성 스킬을 소개합니다. 실제 프로젝트에 적용하시기 전에 라이선스와 사용 제한사항을 확인해주세요.*
```